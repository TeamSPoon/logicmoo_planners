:-include(library('ec_planner/ec_test_incl')).
:-expects_dialect(pfc).
% Tue, 06 Oct 2020 04:58:01 GMT
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.pel:4

 /*  loading(load_e_pl,
   	'/pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e').
 */
%;
%; Copyright (c) 2005 IBM Corporation and others.
%; All rights reserved. This program and the accompanying materials
%; are made available under the terms of the Common Public License v1.0
%; which accompanies this distribution, and is available at
%; http://www.eclipse.org/legal/cpl-v10.html
%;
%; Contributors:
%; IBM - Initial implementation
%;
%; @book{Mueller:2006,
%;   author = "Erik T. Mueller",
%;   year = "2006",
%;   title = "Commonsense Reasoning",
%;   address = "San Francisco",
%;   publisher = "Morgan Kaufmann/Elsevier",
%; }
%;

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:19
% option modeldiff on

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:21
% load foundations/Root.e

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:22
% load foundations/EC.e

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:24
% sort account
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:25
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:25
sort(account).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:25
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:25
sort(account).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:25
% sort value: integer
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:26
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:26
subsort(value,integer).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:26
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:26
subsort(value,integer).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:27
% account Account1, Account2
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:28
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:28
t(account,account1).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:28
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:28
account(account1).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:28
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:28
t(account,account2).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:28
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:28
account(account2).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:29
% predicate EndOfMonth(time)
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
predicate(endOfMonth(time)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
actions([endOfMonth/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
actions([endOfMonth/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
meta_argtypes(endOfMonth(time)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
meta_argtypes(endOfMonth(time)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
mpred_prop(endOfMonth(time),predicate).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
mpred_prop(endOfMonth(time),predicate).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
meta_argtypes(endOfMonth(time)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
meta_argtypes(endOfMonth(time)).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:30
% function ServiceFee(account): value
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
function(serviceFee(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
functions([serviceFee/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
functions([serviceFee/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
meta_argtypes(serviceFee(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
meta_argtypes(serviceFee(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
mpred_prop(serviceFee(account),function).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
mpred_prop(serviceFee(account),function).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
meta_argtypes(serviceFee(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
meta_argtypes(serviceFee(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
predicate(serviceFeePred(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
actions([serviceFeePred/2]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
actions([serviceFeePred/2]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
meta_argtypes(serviceFeePred(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
meta_argtypes(serviceFeePred(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
mpred_prop(serviceFeePred(account,value),predicate).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
mpred_prop(serviceFeePred(account,value),predicate).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
meta_argtypes(serviceFeePred(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
meta_argtypes(serviceFeePred(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31

 /*  fix_axiom_head(Time) ->
       [ functional_predicate(serviceFee, serviceFeePred),
          (->),
         holds_at(functional_predicate(serviceFee, serviceFeePred), Time)
       ].
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31

 /*  [] ->
       ta(Time,
          tvs1=[Time],
          tvs2=[Time],
          holds_at(functional_predicate(serviceFee, serviceFeePred), Time)).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
holds_at(functional_predicate(serviceFee,serviceFeePred),Time1).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
l_int(holds(functional_predicate(serviceFee,serviceFeePred),
	    Time1),
      []).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
resultIsa(serviceFee,value).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
resultIsa(serviceFee,value).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:31
% function MinimumBalance(account): value
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
function(minimumBalance(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
functions([minimumBalance/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
functions([minimumBalance/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
meta_argtypes(minimumBalance(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
meta_argtypes(minimumBalance(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
mpred_prop(minimumBalance(account),function).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
mpred_prop(minimumBalance(account),function).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
meta_argtypes(minimumBalance(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
meta_argtypes(minimumBalance(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
predicate(minimumBalancePred(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
actions([minimumBalancePred/2]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
actions([minimumBalancePred/2]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
meta_argtypes(minimumBalancePred(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
meta_argtypes(minimumBalancePred(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
mpred_prop(minimumBalancePred(account,value),predicate).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
mpred_prop(minimumBalancePred(account,value),predicate).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
meta_argtypes(minimumBalancePred(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
meta_argtypes(minimumBalancePred(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32

 /*  fix_axiom_head(Time) ->
       [ functional_predicate(minimumBalance, minimumBalancePred),
          (->),
         holds_at(functional_predicate(minimumBalance, minimumBalancePred),
                  Time)
       ].
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32

 /*  [] ->
       ta(Time,
          tvs1=[Time],
          tvs2=[Time],
          holds_at(functional_predicate(minimumBalance, minimumBalancePred),
                   Time)).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
holds_at(functional_predicate(minimumBalance,minimumBalancePred),
	 Time1).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
l_int(holds(functional_predicate(minimumBalance,minimumBalancePred),
	    Time1),
      []).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
resultIsa(minimumBalance,value).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:32
resultIsa(minimumBalance,value).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:33
% fluent ServiceFeeCharged(account)
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
fluent(serviceFeeCharged(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
fluents([serviceFeeCharged/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
fluents([serviceFeeCharged/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
meta_argtypes(serviceFeeCharged(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
meta_argtypes(serviceFeeCharged(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
mpred_prop(serviceFeeCharged(account),fluent).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
mpred_prop(serviceFeeCharged(account),fluent).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
meta_argtypes(serviceFeeCharged(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
meta_argtypes(serviceFeeCharged(account)).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:34
% fluent Balance(account,value)
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
fluent(balance(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
fluents([balance/2]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
fluents([balance/2]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
meta_argtypes(balance(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
meta_argtypes(balance(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
mpred_prop(balance(account,value),fluent).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
mpred_prop(balance(account,value),fluent).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
meta_argtypes(balance(account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:35
meta_argtypes(balance(account,value)).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:36
% event Transfer(account,account,value)
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
event(transfer(account,account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
events([transfer/3]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
events([transfer/3]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
meta_argtypes(transfer(account,account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
meta_argtypes(transfer(account,account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
mpred_prop(transfer(account,account,value),event).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
mpred_prop(transfer(account,account,value),event).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
meta_argtypes(transfer(account,account,value)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
meta_argtypes(transfer(account,account,value)).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:37
% event MonthlyReset(account)
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
event(monthlyReset(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
events([monthlyReset/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
events([monthlyReset/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
meta_argtypes(monthlyReset(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
meta_argtypes(monthlyReset(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
mpred_prop(monthlyReset(account),event).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
mpred_prop(monthlyReset(account),event).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
meta_argtypes(monthlyReset(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
meta_argtypes(monthlyReset(account)).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:38
% event ChargeServiceFee(account)
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
event(chargeServiceFee(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
events([chargeServiceFee/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
events([chargeServiceFee/1]).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
meta_argtypes(chargeServiceFee(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
meta_argtypes(chargeServiceFee(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
mpred_prop(chargeServiceFee(account),event).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
mpred_prop(chargeServiceFee(account),event).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
meta_argtypes(chargeServiceFee(account)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:39
meta_argtypes(chargeServiceFee(account)).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:40
%; Sigma
% [account1,account2,value1,value2,value3,value4,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:43
% HoldsAt(Balance(account1,value1),time) &
% HoldsAt(Balance(account2,value2),time) &
% value3>0 &
% value1>=value3 &
% value4=(value2+value3) ->
% Initiates(Transfer(account1,account2,value3),Balance(account2,value4),time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:48
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:48
holds_at(balance(Account1, Value1), Time), holds_at(balance(Account2, Value2), Time), Value3>0, Value1>=Value3, equals(Value4, Value2+Value3) ->
    initiates(transfer(Account1, Account2, Value3),
              balance(Account2, Value4),
              Time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:48
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:48
reactive_rule([ holds(balance(Account1,Value1),Time),
		holds(balance(Account2,Value2),Time),
		Value3>0,
		Value1 >= Value3,
		equals(Value4,Value2+Value3)
	      ],
	      [ initiates(transfer(Account1,
				   Account2,
				   Value3),
			  at(balance(Account2,Value4),
			     Time))
	      ]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:50
% [account1,account2,value1,value2,value3,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:51
% HoldsAt(Balance(account1,value1),time) &
% HoldsAt(Balance(account2,value2),time) &
% value3>0 &
% value1>=value3 ->
% Terminates(Transfer(account1,account2,value3),Balance(account2,value2),time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:55
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:55
holds_at(balance(Account1, Value1), Time), holds_at(balance(Account2, Value2), Time), Value3>0, Value1>=Value3 ->
    terminates(transfer(Account1, Account2, Value3),
               balance(Account2, Value2),
               Time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:55
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:55
reactive_rule([ holds(balance(Account1,Value1),Time),
		holds(balance(Account2,Value2),Time),
		Value3>0,
		Value1 >= Value3
	      ],
	      [ terminates(transfer(Account1,
				    Account2,
				    Value3),
			   at(balance(Account2,Value2),
			      Time))
	      ]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:57
% [account1,account2,value1,value2,value3,value4,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:58
% HoldsAt(Balance(account1,value1),time) &
% HoldsAt(Balance(account2,value2),time) &
% value3>0 &
% value1>=value3 &
% value4=(value1-value3) ->
% Initiates(Transfer(account1,account2,value3),Balance(account1,value4),time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:63
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:63
holds_at(balance(Account1, Value1), Time), holds_at(balance(Account2, Value2), Time), Value3>0, Value1>=Value3, equals(Value4, Value1-Value3) ->
    initiates(transfer(Account1, Account2, Value3),
              balance(Account1, Value4),
              Time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:63
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:63
reactive_rule([ holds(balance(Account1,Value1),Time),
		holds(balance(Account2,Value2),Time),
		Value3>0,
		Value1 >= Value3,
		equals(Value4,Value1-Value3)
	      ],
	      [ initiates(transfer(Account1,
				   Account2,
				   Value3),
			  at(balance(Account1,Value4),
			     Time))
	      ]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:65
% [account1,account2,value1,value2,value3,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:66
% HoldsAt(Balance(account1,value1),time) &
% HoldsAt(Balance(account2,value2),time) &
% value3>0 &
% value1>=value3 ->
% Terminates(Transfer(account1,account2,value3),Balance(account1,value1),time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:70
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:70
holds_at(balance(Account1, Value1), Time), holds_at(balance(Account2, Value2), Time), Value3>0, Value1>=Value3 ->
    terminates(transfer(Account1, Account2, Value3),
               balance(Account1, Value1),
               Time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:70
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:70
reactive_rule([ holds(balance(Account1,Value1),Time),
		holds(balance(Account2,Value2),Time),
		Value3>0,
		Value1 >= Value3
	      ],
	      [ terminates(transfer(Account1,
				    Account2,
				    Value3),
			   at(balance(Account1,Value1),
			      Time))
	      ]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:72
% [account,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:73
% Initiates(ChargeServiceFee(account),ServiceFeeCharged(account),time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:73

 /*  [] ->
       ta(Time,
          tvs1=[Time],
          tvs2=[Time],
          initiates(chargeServiceFee(Account),
                    serviceFeeCharged(Account),
                    Time)).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:73
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:73
initiates(chargeServiceFee(Chargeservicefee),
	  serviceFeeCharged(Chargeservicefee),
	  Initiates).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:73
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:73
initiated(happens(chargeServiceFee(Chargeservicefee),
		  Maptime,
		  Happens),
	  serviceFeeCharged(Chargeservicefee),
	  []).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:75
% [account,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:76
% Terminates(MonthlyReset(account),ServiceFeeCharged(account),time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:76

 /*  [] ->
       ta(Time,
          tvs1=[Time],
          tvs2=[Time],
          terminates(monthlyReset(Account),
                     serviceFeeCharged(Account),
                     Time)).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:76
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:76
terminates(monthlyReset(Monthlyreset),
	   serviceFeeCharged(Monthlyreset),
	   Terminates).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:76
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:76
terminated(happens(monthlyReset(Monthlyreset),
		   Maptime,
		   Happens),
	   serviceFeeCharged(Monthlyreset),
	   []).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:78
% [account,value1,value2,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:79
% HoldsAt(Balance(account,value1),time) &
% value2 = (value1-ServiceFee(account)) ->
% Initiates(ChargeServiceFee(account),
%           Balance(account,value2),
%           time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:83
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:83
holds_at(balance(Account, Value1), Time), equals(Value2, Value1-serviceFee(Account)) ->
    initiates(chargeServiceFee(Account),
              balance(Account, Value2),
              Time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:83
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:83
reactive_rule([ holds(balance(Account,Value1),Time),
		equals(Value2,
		       Value1-serviceFee(Account))
	      ],
	      [ initiates(chargeServiceFee(Account),
			  at(balance(Account,Value2),
			     Time))
	      ]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:85
% [account,value,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:86
% HoldsAt(Balance(account,value),time) ->
% Terminates(ChargeServiceFee(account),Balance(account,value),time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:87
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:87
holds_at(balance(Account, Value), Time) ->
    terminates(chargeServiceFee(Account),
               balance(Account, Value),
               Time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:87
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:87
reactive_rule([holds(balance(Account,Value),Time)],
	      [ terminates(chargeServiceFee(Account),
			   at(balance(Account,Value),
			      Time))
	      ]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:89
%; Delta
% [account,value,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:92
% HoldsAt(Balance(account,value),time) &
% value<MinimumBalance(account) &
% !HoldsAt(ServiceFeeCharged(account),time) ->
% Happens(ChargeServiceFee(account),time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:95
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:95
holds_at(balance(Account, Value), Time), Value<minimumBalance(Account), holds_at(neg(serviceFeeCharged(Account)), Time) ->
    happens(chargeServiceFee(Account), Time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:95
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:95
reactive_rule([ holds(balance(Account,Value),Time),
		Value<minimumBalance(Account),
		holds(not(serviceFeeCharged(Account)),Time)
	      ],
	      [happens(chargeServiceFee(Account),Time)]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:97
% [account,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:98
% EndOfMonth(time) ->
% Happens(MonthlyReset(account),time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:99
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:99
endOfMonth(Time) ->
    happens(monthlyReset(Account), Time).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:99
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:99
reactive_rule([endOfMonth(Time)],
	      [happens(monthlyReset(Account),Time)]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:101
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:101
% Happens(Transfer(Account1,Account2,1),0).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:101

 /*  [] ->
       ta(TaP_Num4_V,
          tvs1=[start],
          tvs2=[start],
          happens(transfer(account1, account2, 1), start)).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:101
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:101
happens(transfer(account1,account2,1),start).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:101
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:101
observe(at(transfer(account1,account2,1),start)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:101
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:101
observe(at(transfer(account1,account2,1),start)).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:102
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:102
% Happens(Transfer(Account1,Account2,1),0).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:102

 /*  [] ->
       ta(TaP_Num4_V,
          tvs1=[start],
          tvs2=[start],
          happens(transfer(account1, account2, 1), start)).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:102
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:102
happens(transfer(account1,account2,1),start).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:102
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:102
observe(at(transfer(account1,account2,1),start)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:102
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:102
observe(at(transfer(account1,account2,1),start)).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:104
%; Psi
% [account,value1,value2,time]
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:107
% HoldsAt(Balance(account,value1),time) &
% HoldsAt(Balance(account,value2),time) ->
% value1=value2.
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:109
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:109
holds_at(balance(Account, Value1), Time), holds_at(balance(Account, Value2), Time) ->
    equals(Value1, Value2).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:109
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:109
reactive_rule([ holds(balance(Account,Value1),Time),
		holds(balance(Account,Value2),Time)
	      ],
	      [equals(Value1,Value2)]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:111
%; Gamma


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:113
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:113
% !HoldsAt(ServiceFeeCharged(Account1),0).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:113

 /*  [] ->
       ta(TaP_Num4_V,
          tvs1=[],
          tvs2=[],
          initially(neg(serviceFeeCharged(account1)))).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:113
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:113
initially(neg(serviceFeeCharged(account1))).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:113
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:113
initial_state([not(serviceFeeCharged(account1))]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:114
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:114
% !HoldsAt(ServiceFeeCharged(Account2),0).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:114

 /*  [] ->
       ta(TaP_Num4_V,
          tvs1=[],
          tvs2=[],
          initially(neg(serviceFeeCharged(account2)))).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:114
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:114
initially(neg(serviceFeeCharged(account2))).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:114
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:114
initial_state([not(serviceFeeCharged(account2))]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:115
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:115
% HoldsAt(Balance(Account1,3),0).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:115

 /*  [] ->
       ta(TaP_Num4_V, tvs1=[], tvs2=[], initially(balance(account1, 3))).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:115
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:115
initially(balance(account1,3)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:115
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:115
initial_state([balance(account1,3)]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:116
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:116
% HoldsAt(Balance(Account2,1),0).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:116

 /*  [] ->
       ta(TaP_Num4_V, tvs1=[], tvs2=[], initially(balance(account2, 1))).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:116
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:116
initially(balance(account2,1)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:116
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:116
initial_state([balance(account2,1)]).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:117
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:117
% MinimumBalance(Account1)=3.
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:117

 /*  [] ->
       ta(TaP_Num4_V, tvs1=[], tvs2=[], equals(minimumBalance(account1), 3)).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:117
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:117
equals(minimumBalance(account1),3).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:117
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:117
equals(minimumBalance(account1),3).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:118
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:118
% MinimumBalance(Account2)=1.
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:118

 /*  [] ->
       ta(TaP_Num4_V, tvs1=[], tvs2=[], equals(minimumBalance(account2), 1)).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:118
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:118
equals(minimumBalance(account2),1).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:118
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:118
equals(minimumBalance(account2),1).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:119
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:119
% ServiceFee(Account1)=1.
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:119

 /*  [] ->
       ta(TaP_Num4_V, tvs1=[], tvs2=[], equals(serviceFee(account1), 1)).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:119
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:119
equals(serviceFee(account1),1).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:119
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:119
equals(serviceFee(account1),1).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:120
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:120
% ServiceFee(Account2)=1.
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:120

 /*  [] ->
       ta(TaP_Num4_V, tvs1=[], tvs2=[], equals(serviceFee(account2), 1)).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:120
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:120
equals(serviceFee(account2),1).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:120
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:120
equals(serviceFee(account2),1).


% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:121
% [time]
 
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:121
% !EndOfMonth(time).
 %  not(endOfMonth(Time)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:121

 /*  [] ->
       ta(TaP_Num4_V, tvs1=[], tvs2=[], not(endOfMonth(Time))).
 */
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:121
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:121
not(endOfMonth(Endofmonth)).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:121
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:121
not(endOfMonth(Endofmonth)).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:123
% completion Happens
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:124
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:124
completion(happens).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:124
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:124
completion(happens).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:125
% range time 0 3
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:126
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:126
range(time,0,3).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:126
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:126
range(time,0,3).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:126
% range value 1 3
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:127
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:127
range(value,1,3).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:127
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:127
range(value,1,3).

% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:127
% range offset 1 1
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:128
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:128
range(offset,1,1).
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:128
% From /pack/logicmoo_ec/ext/ec_sources/examples/Mueller2006/Chapter4/BankAccountServiceFee.e:128
range(offset,1,1).
%; End of file.
